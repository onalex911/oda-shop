<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragments/header :: head(${title})}">
</head>

<body>

<!-- app -->
<div id="app">

    <!-- Вставляем фрагмент шапки, передавая параметр isAuthenticated -->
    <div th:replace="~{fragments/header :: header(${isAuthenticated},${cartInfo})}"></div>

    <!-- Custom-Deal-Page -->
    <div class="page-deal u-s-p-t-80">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-3">
                    <div class="v-menu v-close">
                            <span class="v-title">
                                <i class="ion ion-md-menu"></i>
                                Все разделы
                                <i class="fas fa-angle-down"></i>
                            </span>
                        <nav>
                            <div class="v-wrapper">
                                <ul class="v-list animated fadeIn">
                                    <li class="js-backdrop" th:each="g : ${menuGroups}">
                                        <a th:href="@{${g.purl}}">
                                            <i class="ion ion-md-folder"></i>
                                            <span th:text="${g.normalName}">
<!--                                                <i class="ion ion-ios-arrow-forward"></i>-->
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </nav>
                    </div>
                </div>
                <div class="col-lg-9">
                    <h3 th:text="${group_name} + ' (' + ${totalItems} + ')'"></h3>
                </div>
            </div>
            <!-- Row-of-Product-Container -->
            <div class="row product-container grid-style">
                <div class="product-item col-lg-3 col-md-6 col-sm-6" th:each="t : ${products}">
                    <div class="item">
                        <div class="image-container">
                            <a class="item-img-wrapper-link" th:href="@{${t.purl}}">
                                <img class="img-fluid" th:src="${t.realPicBig}" th:alt="${t.normalTovName}">
                            </a>
                        </div>
                        <div class="item-content">
                            <div class="what-product-is">
                                <h6 class="item-title">
                                    <a th:href="@{${t.purl}}"><span th:text="${t.normalTovName}"/></a>
                                </h6>
                                <div class="item-ost" th:text="'Ост.: ' + ${t.ostatok} + ' шт.'"></div>
                            </div>
                            <div class="price-template">
                               <div class="item-new-price" th:text="${t.cena} + ' руб.'"></div>
<!--                               <div class="item-old-price">-->
<!--                                   $60.00-->
<!--                               </div>-->
                           </div>
                        </div>
<!--                        <div class="tag new">-->
<!--                            <span>НОВИНКА</span>-->
<!--                        </div>-->
                    </div>
                </div>
            </div>
            <!-- Shop-Pagination -->
            <div class="pagination-area">
                <div class="pagination-number">
                    <ul th:if="${totalPages > 1}">
                        <li th:style="${currentPage == 0} ? 'display:none' : 'display:inline'">
                            <a th:href="@{/catalog/bizhuteriya/{alias}(alias=${alias}, page=${currentPage - 1}, size=${pageSize})}"
                               title="Предыдущая">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        </li>
                        <li th:each="i : ${#numbers.sequence(0, totalPages - 1)}" th:class="${i == currentPage} ? 'active'" >
                            <a th:href="@{/catalog/bizhuteriya/{alias}(alias=${alias}, page=${i}, size=${pageSize})}"
                               th:text="${i + 1}"></a>
                        </li>
                        <li th:style="${currentPage == totalPages - 1} ? 'display:none' : 'display:inline'">
                            <a th:href="@{/catalog/bizhuteriya/{alias}(alias=${alias}, page=${currentPage + 1}, size=${pageSize})}"
                               title="Следующая">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- Shop-Pagination /- -->
        </div>
    </div>
</div>
    <!-- Custom-Deal-Page -->
    <!-- Вставляем фрагмент футера -->
    <div th:replace="~{fragments/footer :: footer(${currentYear})}"></div>
</body>
</html>
